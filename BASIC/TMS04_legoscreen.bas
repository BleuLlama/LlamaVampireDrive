1 REM Lego Screen
2 REM yorgle@gmail.com

10 PRINT "Lego screen"
20 OUT 0,0
30 REG = 17
40 MEM = 16
50 BG = &hc
60 FG = &hF
70 P = BG + (FG * 16)

100 REM Set up our display mode
110 DATA 0, 226, 5, 128, 1, 32, 0, 12
120 FOR I = 0 TO 7
130 READ V
140 OUT REG, V
150 OUT REG, ( I OR &H80 )
160 NEXT

200 REM clear all the sprite attributes
210 A=&h1000
220 GOSUB 900
230 FOR A = 0 TO 32*4
240 OUT MEM, 0
250 NEXT A

300 REM Setup font color for all banks
310 FG = 11
320 A = &h2000
330 GOSUB 900
340 FOR A = 0 TO 32
350 OUT MEM, P
360 NEXT A

399 REM setup the font
400 DATA 0,  0,0,0,0, 0,0,0,0
401 DATA 1,  255, 255, 255, 255,  255, 255, 255, 255
499	DATA 999

500 RESTORE 400
510 READ I
520 IF I = 999 THEN 600
530 A=&h800 + (8*I)
540 GOSUB 900
550 FOR A = 0 TO 7
560 READ V 
570 OUT MEM, V
580 NEXT A
590 GOTO 510


600 REM fill the screen grid
610 D = 0 
640 A = &h1400
650 GOSUB 900
660 FOR A=0 TO 959
670 OUT MEM, D
680 NEXT A

690 GOTO 1000
800 A = &h1400 + X + ( Y * 32 )

900 REM set Mem loc
910 OUT REG, (A AND &h00ff)
920 OUT REG, (( ( A / 256 ) AND &h3f) OR &h40)
930 RETURN

1000 REM Vertical lines 0,0 to 31,23
1010 FOR X=15 TO 16
1020 FOR Y=0 TO 23
1030 GOSUB 800
1040 OUT MEM, 1
1050 NEXT Y
1060 NEXT X

1100 REM Horizontal Lines
1110 FOR X=0 TO 31
1120 FOR Y=11 TO 12
1130 GOSUB 800
1140 OUT MEM, 1
1150 NEXT Y
1160 NEXT X

1200 REM Cycle Colors
1210 FOR C = 1 TO 15
1220 A = &h2000
1230 GOSUB 900
1240 OUT MEM, (c*16)
1250 FOR D=0 TO 700 : NEXT D
1260 NEXT C
1270 GOTO 1200


