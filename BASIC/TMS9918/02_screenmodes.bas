1 REM TMS9918A Screenmodes
2 REM yorgle@gmail.com

5 REM see a demo of this at https://www.youtube.com/watch?v=JO66pbBGH-E

11 MEM=&h10
12 REG=&h11
13 OUT &h00,&h00

15 GOSUB 500
16 GOSUB 150
17 END

20 GOSUB 100: GOSUB 400
30 GOSUB 110: GOSUB 400
40 GOSUB 120: GOSUB 400
50 GOSUB 130: GOSUB 400
60 GOSUB 140: GOSUB 400
70 GOSUB 150: GOSUB 400
80 GOTO 20

98 print "done."
99 END

100	RESTORE 105 : PRINT "Blank screen" : GOTO 200
105 DATA 0, 128, 0, 0,  0, 0, 0, 0, 0

110 RESTORE 115 : PRINT "Multicolor mode" : GOTO 200
115 DATA 0, 200, 2, 0,  0, 118, 3, 0


120 RESTORE 125 : PRINT "Graphics 2" : GOTO 200
125 DATA 2, 194, 14, 255,  3, 118, 3, 1

130 RESTORE 135 : PRINT "Graphics 1" : GOTO 200
135 DATA 0, 192, 5, 128,  1, 32, 0, 1

140 RESTORE 145 : PRINT "Text Mode 1 ????" : GOTO 200
145 DATA 0, 193, 0, 0,  1, 0, 0, 148

150 RESTORE 155 : PRINT "Text Mode" : GOTO 200
155 DATA 0, 208, 0, 0,  1, 0, 0, 249

160 REM Font stuff
161 DATA 112, 136, 128, 112, 8, 136, 112, 0
162 DATA 128, 126, 66, 66, 66, 66, 126, 0

200 REM Set up registers
210 FOR I = 0 TO 7
220   READ V
230   OUT REG, V
240   OUT REG, ( I OR &h80 )
250 NEXT
260 RETURN

300 FOR A=1 TO 2000
310 NEXT A
320 RETURN

400 REM Cycle through colors
410 FOR B = 1 TO 15
420 REM FOR F = 1 TO 15
430     OUT REG, F*16+B
440     OUT REG, 135
450     FOR J = 1 TO 100: NEXT J
460 REM  NEXT F
470 NEXT B
480 RETURN

500 REM write out some stuff
510 PRINT "Filling RAM"
520 ADDR = 0
530 OUT REG, ADDR AND &hFF
540 OUT REG, ( ( ADDR / 256 ) AND &h3F) OR &h40 : REM WRITE
550 FOR D = 0 TO 128
560   RESTORE 161 
562   FOR G=1 TO 8 : READ V : OUT MEM, V 
565     FOR E=0 TO 2 : NEXT E
567   NEXT G 
570 NEXT D
580 PRINT "Done..."
590 RETURN 


